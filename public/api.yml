openapi: 3.0.0
info:
  title: Rent Admin API
  description: Here goes description
  version: 0.1.9

servers:
  - url: http://localhost:8000/api
    description: local server

paths:
  /user:
    get:
      summary: Returns a list of users.
      responses:
        '200': 
          description: A JSON array of user names
          content:
            application/json:
              schema: 
                type: array
                items: 
                  type: string

  /v1/security/authenticate:
    post:
      summary: "Log in a user and generate a token"
      tags:
        - "Auth"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: "object"
              properties:
                username:
                  type: "string"
                password:
                  type: "string"
            example:
              username: "johndoe@example.com"
              password: "password123"
      responses:
        "200":
          description: "Success"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  access_token:
                    type: "string"
              example:
                access_token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."

  /v1/security/registration:
    post:
      summary: "Create a new user"
      tags:
        - "Users"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: "object"
              properties:
                name:
                  type: "string"
                lastname:
                  type: "string"
                username:
                  type: "string"
                phone:
                  type: "string"
                dui:
                  type: "string"
                email:
                  type: "string"
                password:
                  type: "string"
                password_confirmation:
                  type: "string"
                id_rol:
                  type: "integer"
                is_admin:
                  type: "boolean"
                active:
                  type: "integer"
            example:
              name: "John"
              lastname: "Doe"
              username: "johndoe"
              phone: "123-456-7890"
              dui: "01234567-8"
              email: "johndoe@example.com"
              password: "password123"
              password_confirmation: "password123"
              id_rol: 1
              is_admin: false
              active: 1
      responses:
        "201":
          description: "User created"
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
        "422":
          description: "Unprocessable entity"
        "500":
          description: "Internal server error"
  /v1/dashboard/properties/add-new:
    post:
      summary: Create a new property
      tags:
        - Properties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                address:
                  type: string
                bedrooms:
                  type: integer
                beds:
                  type: integer
                bathrooms:
                  type: integer
                has_ac:
                  type: boolean
                has_kitchen:
                  type: boolean
                has_dinning_room:
                  type: boolean
                has_sink:
                  type: boolean
                has_fridge:
                  type: boolean
                has_tv:
                  type: boolean
                has_furniture:
                  type: boolean
                has_garage:
                  type: boolean
                active:
                  type: boolean
      security:
        - bearerAuth: []
      responses:
        '201':
          description: Successfully created a new property
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        '400':
          description: Bad Request - Invalid input
        '401':
          description: Unauthorized - Missing or invalid API token
  /v1/dashboard/properties/list:
    get:
      summary: Get properties belonging to logged-in user
      tags:
        - Properties
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
        '400':
          description: Bad Request - Invalid input
        '401':
          description: Unauthorized - Missing or invalid API token

  /v1/catalogs/rent-type/list:
    get:
      summary: "Get Rent Type Catalog"
      tags:
        - "Catalogs"
      responses:
        200:
          description: "Successful operation"
  /v1/catalogs/payment-type/list:
    get:
      summary: "Get Payment Type Catalog"
      tags:
        - "Catalogs"
      responses:
        200:
          description: "Successful operation"
  /v1/catalogs/document-type/list:
    get:
      summary: "Get Document Type Catalog"
      tags:
        - "Catalogs"
      responses:
        200:
          description: "Successful operation"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT